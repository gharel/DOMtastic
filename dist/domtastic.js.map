{"version":3,"file":"domtastic.js","sources":["../src/util.js","../src/selector/index.js","../src/array.js","../src/baseClass.js","../src/css.js","../src/dom/attr.js","../src/dom/class.js","../src/dom/contains.js","../src/dom/data.js","../src/dom/index.js","../src/dom/extra.js","../src/dom/html.js","../src/selector/closest.js","../src/event/index.js","../src/event/ready.js","../src/event/trigger.js","../src/selector/extra.js","../src/type.js","../src/index.js"],"sourcesContent":["/**\n * @module Util\n */\n\n/**\n * Reference to the window object\n * @private\n */\n\nexport const win = typeof window !== 'undefined' ? window : {};\n\n/**\n * Convert `NodeList` to `Array`.\n *\n * @param {NodeList|Array} collection\n * @return {Array}\n * @private\n */\n\nexport const toArray = (collection) => {\n\tconst length = collection.length;\n\tconst result = new Array(length);\n\tfor (let i = 0; i < length; i++) {\n\t\tresult[i] = collection[i];\n\t}\n\treturn result;\n};\n\n/**\n * Faster alternative to [].forEach method\n *\n * @param {Node|NodeList|Array} collection\n * @param {Function} callback\n * @return {Node|NodeList|Array}\n * @private\n */\n\nexport const each = (collection, callback, thisArg) => {\n\tconst length = collection.length;\n\tif (length !== undefined && collection.nodeType === undefined) {\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tcallback.call(thisArg, collection[i], i, collection);\n\t\t}\n\t} else {\n\t\tcallback.call(thisArg, collection, 0, collection);\n\t}\n\treturn collection;\n};\n\n/**\n * Assign enumerable properties from source object(s) to target object\n *\n * @method extend\n * @param {Object} target Object to extend\n * @param {Object} [source] Object to extend from\n * @return {Object} Extended object\n * @example\n *     $.extend({a: 1}, {b: 2}); // {a: 1, b: 2}\n * @example\n *     $.extend({a: 1}, {b: 2}, {a: 3}); // {a: 3, b: 2}\n */\n\nexport const extend = (target, ...sources) => {\n\tsources.forEach((src) => {\n\t\tfor (const prop in src) {\n\t\t\ttarget[prop] = src[prop];\n\t\t}\n\t});\n\treturn target;\n};\n\n/**\n * Return the collection without duplicates\n *\n * @param collection Collection to remove duplicates from\n * @return {Node|NodeList|Array}\n * @private\n */\n\nexport const uniq = (collection) => collection.filter((item, index) => collection.indexOf(item) === index);\n\n/**\n * Check if touch device\n *\n * @return {Boolean}\n */\n\nexport const isTouch = () => Boolean('ontouchstart' in window);\n\n/**\n * Check if mobile with media queries\n *\n * @param width Width under that mobile is true\n * @return {Boolean}\n */\n\nexport const isMobileByMQ = (width) => 'matchMedia' in window && window.matchMedia(`(max-width:${width}px)`).matches;\n","/**\n * @module Selector\n */\n\nimport { each, win } from '../util';\n\nlet isPrototypeSet = false;\n\nconst reFragment = /^\\s*<(\\w+|!)[^>]*>/;\nconst reSingleTag = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/;\nconst reSimpleSelector = /^[.#]?[\\w-]*$/;\n\n/**\n * Versatile wrapper for `querySelectorAll`.\n *\n * @param {String|Node|NodeList|Array} selector Query selector, `Node`, `NodeList`, array of elements, or HTML fragment string.\n * @param {String|Node|NodeList} context=document The context for the selector to query elements.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     var $items = $(.items');\n * @example\n *     var $element = $(domElement);\n * @example\n *     var $list = $(nodeList, document.body);\n * @example\n *     var $element = $('<p>evergreen</p>');\n */\n\nconst domtastic = function domtastic(selector, context = document) {\n\tlet collection;\n\n\tif (!selector) {\n\t\tcollection = document.querySelectorAll(null);\n\t} else if (selector instanceof DOMtastic) {\n\t\treturn selector;\n\t} else if (typeof selector !== 'string') {\n\t\tcollection = selector.nodeType || selector === window ? [selector] : selector;\n\t} else if (reFragment.test(selector)) {\n\t\tcollection = createFragment(selector);\n\t} else {\n\t\tcontext = typeof context === 'string' ? document.querySelector(context) : context.length ? context[0] : context;\n\t\tcollection = querySelector(selector, context);\n\t}\n\n\treturn wrap(collection);\n};\n\nexport const $ = domtastic;\n\n/**\n * Find descendants matching the provided `selector` for each element in the collection.\n *\n * @param {String|Node|NodeList|Array} selector Query selector, `Node`, `NodeList`, array of elements, or HTML fragment string.\n * @return {Object} The wrapped collection\n * @example\n *     $('.selector').find('.deep').$('.deepest');\n */\n\nexport const find = function (selector) {\n\tconst nodes = [];\n\teach(this, (node) => each(querySelector(selector, node), (child) => {\n\t\tif (nodes.indexOf(child) === -1) {\n\t\t\tnodes.push(child);\n\t\t}\n\t}));\n\treturn $(nodes);\n};\n\n/**\n * Returns `true` if the element would be selected by the specified selector string; otherwise, returns `false`.\n *\n * @param {Node} element Element to test\n * @param {String} selector Selector to match against element\n * @return {Boolean}\n *\n * @example\n *     $.matches(element, '.match');\n */\n\nexport const matches = (() => {\n\tconst context = typeof Element !== 'undefined' ? Element.prototype : win;\n\tconst _matches = context.matches || context.matchesSelector || context.mozMatchesSelector || context.msMatchesSelector || context.oMatchesSelector || context.webkitMatchesSelector;\n\treturn (element, selector) => _matches.call(element, selector);\n})();\n\n/**\n * Use the faster `getElementById`, `getElementsByClassName` or `getElementsByTagName` over `querySelectorAll` if possible.\n *\n * @private\n * @param {String} selector Query selector.\n * @param {Node} context The context for the selector to query elements.\n * @return {Object} NodeList, HTMLCollection, or Array of matching elements (depending on method used).\n */\n\nconst querySelector = (selector, context) => {\n\tconst isSimpleSelector = reSimpleSelector.test(selector);\n\n\tif (isSimpleSelector) {\n\t\tif (selector[0] === '#') {\n\t\t\tconst element = (context.getElementById ? context : document).getElementById(selector.slice(1));\n\t\t\treturn element ? [element] : [];\n\t\t}\n\t\tif (selector[0] === '.') {\n\t\t\treturn context.getElementsByClassName(selector.slice(1));\n\t\t}\n\t\treturn context.getElementsByTagName(selector);\n\t}\n\n\treturn context.querySelectorAll(selector);\n};\n\n/**\n * Create DOM fragment from an HTML string\n *\n * @private\n * @param {String} html String representing HTML.\n * @return {NodeList}\n */\n\nconst createFragment = (html) => {\n\tif (reSingleTag.test(html)) {\n\t\treturn [document.createElement(RegExp.$1)];\n\t}\n\n\tconst elements = [];\n\tconst container = document.createElement('div');\n\tconst children = container.childNodes;\n\n\tcontainer.innerHTML = html;\n\n\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\telements.push(children[i]);\n\t}\n\n\treturn elements;\n};\n\n/**\n * Calling `$(selector)` returns a wrapped collection of elements.\n *\n * @private\n * @param {NodeList|Array} collection Element(s) to wrap.\n * @return Object) The wrapped collection\n */\n\nconst wrap = (collection) => {\n\tif (!isPrototypeSet) {\n\t\tDOMtastic.prototype = $.fn;\n\t\tDOMtastic.prototype.constructor = DOMtastic;\n\t\tisPrototypeSet = true;\n\t}\n\n\treturn new DOMtastic(collection);\n};\n\n/**\n * Constructor for the Object.prototype strategy\n *\n * @constructor\n * @private\n * @param {NodeList|Array} collection Element(s) to wrap.\n */\n\nexport const DOMtastic = function DOMtastic(collection) {\n\tlet i = 0;\n\tconst length = collection.length;\n\tfor (; i < length;) {\n\t\tthis[i] = collection[i++];\n\t}\n\tthis.length = length;\n};\n","/**\n * @module Array\n */\n\nimport { $, matches } from './selector/index';\nimport { each as _each, toArray } from './util';\n\nconst ArrayProto = Array.prototype;\n\n/**\n * Checks if the given callback returns a true(-ish) value for each element in the collection.\n *\n * @param {Function} callback Function to execute for each element, invoked with `element` as argument.\n * @param {Object} [thisArg] Value to use as `this` when executing `callback`.\n * @return {Boolean} Whether each element passed the callback check.\n * @example\n *     // Test whether every element in the collection has the \"active\" attribute\n *     $('.items').every(function(element) {\n *         return element.hasAttribute('active')\n *     });\n */\n\nexport const every = ArrayProto.every;\n\n/**\n * Filter the collection by selector or function, and return a new collection with the result.\n *\n * @param {String|Function} selector Selector or function to filter the collection.\n * @param {Object} [thisArg] Value to use as `this` when executing `callback`.\n * @return {Object} A new wrapped collection\n * @chainable\n * @example\n *     $('.items').filter('.active');\n * @example\n *     $('.items').filter(function(element) {\n *         return element.hasAttribute('active')\n *     });\n */\n\nexport const filter = function (selector, thisArg) {\n\tconst callback = typeof selector === 'function' ? selector : (element) => matches(element, selector);\n\treturn $(ArrayProto.filter.call(this, callback, thisArg));\n};\n\n/**\n * Execute a function for each element in the collection.\n *\n * @param {Function} callback Function to execute for each element, invoked with `element` as argument.\n * @param {Object} [thisArg] Value to use as `this` when executing `callback`.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.items').forEach(function(element) {\n *         element.style.color = 'evergreen';\n *     );\n */\n\nexport const forEach = function (callback, thisArg) {\n\treturn _each(this, callback, thisArg);\n};\n\nexport const each = forEach;\n\n/**\n * Returns the index of an element in the collection.\n *\n * @param {Node} element\n * @return {Number} The zero-based index, -1 if not found.\n * @example\n *     $('.items').indexOf(element); // 2\n */\n\nexport const indexOf = ArrayProto.indexOf;\n\n/**\n * Create a new collection by executing the callback for each element in the collection.\n *\n * @param {Function} callback Function to execute for each element, invoked with `element` as argument.\n * @param {Object} [thisArg] Value to use as `this` when executing `callback`.\n * @return {Array} Collection with the return value of the executed callback for each element.\n * @example\n *     // Create a new array with the attribute value of each element:\n *     $('.items').map(function(element) {\n *         return element.getAttribute('name')\n */\n\nexport const map = ArrayProto.map;\n\n/**\n * Removes the last element from the collection, and returns that element.\n *\n * @return {Object} The last element from the collection.\n * @example\n *     var lastElement = $('.items').pop();\n */\n\nexport const pop = ArrayProto.pop;\n\n/**\n * Adds one or more elements to the end of the collection, and returns the new length of the collection.\n *\n * @param {Object} element Element(s) to add to the collection\n * @return {Number} The new length of the collection\n * @example\n *     $('.items').push(element);\n */\n\nexport const push = ArrayProto.push;\n\n/**\n * Apply a function against each element in the collection, and this accumulator function has to reduce it\n * to a single value.\n *\n * @param {Function} callback Function to execute on each value in the array, taking four arguments (see example).\n * @param {Mixed} initialValue Object to use as the first argument to the first call of the callback.\n * @example\n *     // Calculate the combined height of elements:\n *     $('.items').reduce(function(previousValue, element, index, collection) {\n *         return previousValue + element.clientHeight;\n *     }, 0);\n */\n\nexport const reduce = ArrayProto.reduce;\n\n/**\n * Apply a function against each element in the collection (from right-to-left), and this accumulator function has\n * to reduce it to a single value.\n *\n * @param {Function} callback Function to execute on each value in the array, taking four arguments (see example).\n * @param {Mixed} initialValue Object to use as the first argument to the first call of the callback.\n * @example\n *     // Concatenate the text of elements in reversed order:\n *     $('.items').reduceRight(function(previousValue, element, index, collection) {\n *         return previousValue + element.textContent;\n *     }, '');\n */\n\nexport const reduceRight = ArrayProto.reduceRight;\n\n/**\n * Reverses an array in place. The first array element becomes the last and the last becomes the first.\n *\n * @return {Object} The wrapped collection, reversed\n * @chainable\n * @example\n *     $('.items').reverse();\n */\n\nexport const reverse = function () {\n\treturn $(toArray(this).reverse());\n};\n\n/**\n * Removes the first element from the collection, and returns that element.\n *\n * @return {Object} The first element from the collection.\n * @example\n *     var firstElement = $('.items').shift();\n */\n\nexport const shift = ArrayProto.shift;\n\n/**\n * Checks if the given callback returns a true(-ish) value for any of the elements in the collection.\n *\n * @param {Function} callback Function to execute for each element, invoked with `element` as argument.\n * @return {Boolean} Whether any element passed the callback check.\n * @example\n *     $('.items').some(function(element) {\n *         return element.hasAttribute('active')\n *     }); // true/false\n */\n\nexport const some = ArrayProto.some;\n\n/**\n * Adds one or more elements to the beginning of the collection, and returns the new length of the collection.\n *\n * @param {Object} element Element(s) to add to the collection\n * @return {Number} The new length of the collection\n * @example\n *     $('.items').unshift(element);\n */\n\nexport const unshift = ArrayProto.unshift;\n","/**\n * @module BaseClass\n */\n\nimport { DOMtastic, $ as selector } from './selector/index';\nimport { extend } from './util';\n\nexport default function (api) {\n\t/**\n\t * Provide subclass for classes or components to extend from.\n\t * The opposite and successor of plugins (no need to extend `$.fn` anymore, complete control).\n\t *\n\t * @return {Class} The class to extend from, including all `$.fn` methods.\n\t * @example\n\t *     import { BaseClass } from  'domtastic';\n\t *\n\t *     class MyComponent extends BaseClass {\n\t *         doSomething() {\n\t *             return this.addClass('.foo');\n\t *         }\n\t *     }\n\t *\n\t *     let component = new MyComponent('body');\n\t *     component.doSomething();\n\t *\n\t * @example\n\t *     import $ from  'domtastic';\n\t *\n\t *     class MyComponent extends $.BaseClass {\n\t *         progress(value) {\n\t *             return this.attr('data-progress', value);\n\t *         }\n\t *     }\n\t *\n\t *     let component = new MyComponent(document.body);\n\t *     component.progress('ive').append('<p>enhancement</p>');\n\t */\n\n\tclass BaseClass {\n\t\tconstructor() {\n\t\t\tDOMtastic.call(this, selector(...arguments));\n\t\t}\n\t}\n\n\textend(BaseClass.prototype, api);\n\treturn BaseClass;\n}\n","/**\n * @module CSS\n */\n\nimport { each } from './util';\n\nconst isNumeric = (value) => !isNaN(parseFloat(value)) && isFinite(value);\n\nconst camelize = (value) => value.replace(/-([\\da-z])/gi, (matches, letter) => letter.toUpperCase());\n\nconst dasherize = (value) => value.replace(/([a-z\\d])([A-Z])/g, '$1-$2').toLowerCase();\n\n/**\n * Get the value of a style property for the first element, or set one or more style properties for each element in the collection.\n *\n * @param {String|Object} key The name of the style property to get or set. Or an object containing key-value pairs to set as style properties.\n * @param {String} [value] The value of the style property to set.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').css('padding-left'); // get\n *     $('.item').css('color', '#f00'); // set\n *     $('.item').css({'border-width': '1px', display: 'inline-block'}); // set multiple\n */\n\nexport const css = function (key, value) {\n\tlet prop;\n\tlet styleProps;\n\tlet val;\n\n\tif (typeof key === 'string') {\n\t\tkey = camelize(key);\n\n\t\tif (typeof value === 'undefined') {\n\t\t\tconst element = this.nodeType ? this : this[0];\n\t\t\tif (element) {\n\t\t\t\tval = element.style[key];\n\t\t\t\tif (val === '') {\n\t\t\t\t\tval = getComputedStyle(element)[key];\n\t\t\t\t}\n\t\t\t\treturn isNumeric(val) ? parseFloat(val) : val;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tstyleProps = {};\n\t\tstyleProps[key] = value;\n\t} else {\n\t\tstyleProps = key;\n\t\tfor (prop in styleProps) {\n\t\t\tval = styleProps[prop];\n\t\t\tdelete styleProps[prop];\n\t\t\tstyleProps[camelize(prop)] = val;\n\t\t}\n\t}\n\n\teach(this, (element) => {\n\t\tfor (prop in styleProps) {\n\t\t\tif (styleProps[prop] || styleProps[prop] === 0) {\n\t\t\t\telement.style[prop] = styleProps[prop];\n\t\t\t} else {\n\t\t\t\telement.style.removeProperty(dasherize(prop));\n\t\t\t}\n\t\t}\n\t});\n\n\treturn this;\n};\n","/**\n * @module Attr\n */\n\nimport { each } from '../util';\n\n/**\n * Get the value of an attribute for the first element, or set one or more attributes for each element in the collection.\n *\n * @param {String|Object} key The name of the attribute to get or set. Or an object containing key-value pairs to set as attributes.\n * @param {String} [value] The value of the attribute to set.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').attr('attrName'); // get\n *     $('.item').attr('attrName', 'attrValue'); // set\n *     $('.item').attr({attr1: 'value1', 'attr-2': 'value2'}); // set multiple\n */\n\nexport const attr = function (key, value) {\n\tif (typeof key === 'string' && typeof value === 'undefined') {\n\t\tconst element = this.nodeType ? this : this[0];\n\t\treturn element ? element.getAttribute(key) : undefined;\n\t}\n\n\treturn each(this, (element) => {\n\t\tif (typeof key === 'object') {\n\t\t\tfor (const attr in key) {\n\t\t\t\telement.setAttribute(attr, key[attr]);\n\t\t\t}\n\t\t} else {\n\t\t\telement.setAttribute(key, value);\n\t\t}\n\t});\n};\n\n/**\n * Remove attribute from each element in the collection.\n *\n * @param {String} key Attribute name\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.items').removeAttr('attrName');\n */\n\nexport const removeAttr = function (key) {\n\treturn each(this, (element) => element.removeAttribute(key));\n};\n","/**\n * @module Class\n */\n\nimport { each } from '../util';\n\n/**\n * Add a class to the element(s)\n *\n * @param {String} value Space-separated class name(s) to add to the element(s).\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').addClass('bar');\n *     $('.item').addClass('bar foo');\n */\n\nexport const addClass = function (value) {\n\tif (value && value.length) {\n\t\teach(value.split(' '), _each.bind(this, 'add'));\n\t}\n\treturn this;\n};\n\n/**\n * Remove a class from the element(s)\n *\n * @param {String} value Space-separated class name(s) to remove from the element(s).\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.items').removeClass('bar');\n *     $('.items').removeClass('bar foo');\n */\n\nexport const removeClass = function (value) {\n\tif (value && value.length) {\n\t\teach(value.split(' '), _each.bind(this, 'remove'));\n\t}\n\treturn this;\n};\n\n/**\n * Toggle a class at the element(s)\n *\n * @param {String} value Space-separated class name(s) to toggle at the element(s).\n * @param {Boolean} [state] A Boolean value to determine whether the class should be added or removed.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').toggleClass('bar');\n *     $('.item').toggleClass('bar foo');\n *     $('.item').toggleClass('bar', true);\n */\n\nexport const toggleClass = function (value, state) {\n\tif (value && value.length) {\n\t\teach(value.split(' '), _each.bind(this, 'toggle'));\n\t}\n\treturn this;\n};\n\n/**\n * Check if the element(s) have a class.\n *\n * @param {String} value Check if the DOM element contains the class name. When applied to multiple elements,\n * returns `true` if _any_ of them contains the class name.\n * @return {Boolean} Whether the element's class attribute contains the class name.\n * @example\n *     $('.item').hasClass('bar');\n */\n\nexport const hasClass = function (value) {\n\treturn (this.nodeType ? [this] : this).some((element) => element.classList.contains(value));\n};\n\n/**\n * Specialized iteration, applying `fn` of the classList API to each element.\n *\n * @param {String} fnName\n * @param {String} className\n * @private\n */\n\nconst _each = function (fnName, className) {\n\treturn each(this, (element) => element.classList[fnName](className));\n};\n","/**\n * @module contains\n */\n\n/**\n * Test whether an element contains another element in the DOM.\n *\n * @param {Element} container The element that may contain the other element.\n * @param {Element} element The element that may be a descendant of the other element.\n * @return {Boolean} Whether the `container` element contains the `element`.\n * @example\n *     $.contains(parentElement, childElement); // true/false\n */\n\nexport const contains = (container, element) => {\n\tif (!container || !element || container === element) {\n\t\treturn false;\n\t} else if (container.contains) {\n\t\treturn container.contains(element);\n\t} else if (container.compareDocumentPosition) {\n\t\treturn !(container.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_DISCONNECTED);\n\t}\n\treturn false;\n};\n","/**\n * @module Data\n */\n\nimport { each } from '../util';\n\nconst isSupportsDataSet = typeof document !== 'undefined' && 'dataset' in document.documentElement;\nconst DATAKEYPROP = isSupportsDataSet ? 'dataset' : '__DOMTASTIC_DATA__';\n\nconst camelize = (str) => str.replace(/-+(.)?/g, (match, char) => char ? char.toUpperCase() : '');\n\n/**\n * Get data from first element, or set data for each element in the collection.\n *\n * @param {String} key The key for the data to get or set.\n * @param {String} [value] The data to set.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').data('attrName'); // get\n *     $('.item').data('attrName', {any: 'data'}); // set\n */\n\nexport const data = function (key, value) {\n\tif (typeof key === 'string' && typeof value === 'undefined') {\n\t\tconst element = this.nodeType ? this : this[0];\n\t\treturn element && DATAKEYPROP in element ? element[DATAKEYPROP][camelize(key)] : undefined;\n\t}\n\n\treturn each(this, (element) => {\n\t\tif (!isSupportsDataSet) {\n\t\t\telement[DATAKEYPROP] = element[DATAKEYPROP] || {};\n\t\t}\n\n\t\telement[DATAKEYPROP][camelize(key)] = value;\n\t});\n};\n\n/**\n * Get property from first element, or set property on each element in the collection.\n *\n * @param {String} key The name of the property to get or set.\n * @param {String} [value] The value of the property to set.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').prop('attrName'); // get\n *     $('.item').prop('attrName', 'attrValue'); // set\n */\n\nexport const prop = function (key, value) {\n\tif (typeof key === 'string' && typeof value === 'undefined') {\n\t\tconst element = this.nodeType ? this : this[0];\n\t\treturn element && element ? element[key] : undefined;\n\t}\n\n\treturn each(this, (element) => element[key] = value);\n};\n","/**\n * @module DOM\n */\n\nimport { $ } from '../selector/index';\nimport { toArray } from '../util';\n\nconst forEach = Array.prototype.forEach;\n\n/**\n * Append element(s) to each element in the collection.\n *\n * @param {String|Node|NodeList|Object} element What to append to the element(s).\n * Clones elements as necessary.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').append('<p>more</p>');\n */\n\nexport const append = function (element) {\n\tif (this instanceof Node) {\n\t\tif (typeof element === 'string') {\n\t\t\tthis.insertAdjacentHTML('beforeend', element);\n\t\t} else if (element instanceof Node) {\n\t\t\tthis.appendChild(element);\n\t\t} else {\n\t\t\tconst elements = element instanceof NodeList ? toArray(element) : element;\n\t\t\tforEach.call(elements, this.appendChild.bind(this));\n\t\t}\n\t} else {\n\t\t_each(this, append, element);\n\t}\n\treturn this;\n};\n\n/**\n * Place element(s) at the beginning of each element in the collection.\n *\n * @param {String|Node|NodeList|Object} element What to place at the beginning of the element(s).\n * Clones elements as necessary.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').prepend('<span>start</span>');\n */\n\nexport const prepend = function (element) {\n\tif (this instanceof Node) {\n\t\tif (typeof element === 'string') {\n\t\t\tthis.insertAdjacentHTML('afterbegin', element);\n\t\t} else if (element instanceof Node) {\n\t\t\tthis.insertBefore(element, this.firstChild);\n\t\t} else {\n\t\t\tconst elements = element instanceof NodeList ? toArray(element) : element;\n\t\t\tforEach.call(elements.reverse(), prepend.bind(this));\n\t\t}\n\t} else {\n\t\t_each(this, prepend, element);\n\t}\n\treturn this;\n};\n\n/**\n * Place element(s) before each element in the collection.\n *\n * @param {String|Node|NodeList|Object} element What to place as sibling(s) before to the element(s).\n * Clones elements as necessary.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.items').before('<p>prefix</p>');\n */\n\nexport const before = function (element) {\n\tif (this instanceof Node) {\n\t\tif (typeof element === 'string') {\n\t\t\tthis.insertAdjacentHTML('beforebegin', element);\n\t\t} else if (element instanceof Node) {\n\t\t\tthis.parentNode.insertBefore(element, this);\n\t\t} else {\n\t\t\tconst elements = element instanceof NodeList ? toArray(element) : element;\n\t\t\tforEach.call(elements, before.bind(this));\n\t\t}\n\t} else {\n\t\t_each(this, before, element);\n\t}\n\treturn this;\n};\n\n/**\n * Place element(s) after each element in the collection.\n *\n * @param {String|Node|NodeList|Object} element What to place as sibling(s) after to the element(s). Clones elements as necessary.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.items').after('<span>suf</span><span>fix</span>');\n */\n\nexport const after = function (element) {\n\tif (this instanceof Node) {\n\t\tif (typeof element === 'string') {\n\t\t\tthis.insertAdjacentHTML('afterend', element);\n\t\t} else if (element instanceof Node) {\n\t\t\tthis.parentNode.insertBefore(element, this.nextSibling);\n\t\t} else {\n\t\t\tconst elements = element instanceof NodeList ? toArray(element) : element;\n\t\t\tforEach.call(elements.reverse(), after.bind(this));\n\t\t}\n\t} else {\n\t\t_each(this, after, element);\n\t}\n\treturn this;\n};\n\n/**\n * Clone a wrapped object.\n *\n * @return {Object} Wrapped collection of cloned nodes.\n * @example\n *     $(element).clone();\n */\n\nexport const clone = function () {\n\treturn $(_clone(this));\n};\n\n/**\n * Clone an object\n *\n * @param {String|Node|NodeList|Array} element The element(s) to clone.\n * @return {String|Node|NodeList|Array} The cloned element(s)\n * @private\n */\n\nexport const _clone = (element) => {\n\tif (typeof element === 'string') {\n\t\treturn element;\n\t} else if (element instanceof Node) {\n\t\treturn element.cloneNode(true);\n\t} else if ('length' in element) {\n\t\treturn [].map.call(element, (el) => el.cloneNode(true));\n\t}\n\treturn element;\n};\n\n/**\n * Specialized iteration, applying `fn` in reversed manner to a clone of each element, but the provided one.\n *\n * @param {NodeList|Array} collection\n * @param {Function} fn\n * @param {Node} element\n * @private\n */\n\nexport const _each = (collection, fn, element) => {\n\tlet l = collection.length;\n\twhile (l--) {\n\t\tconst elm = l === 0 ? element : _clone(element);\n\t\tfn.call(collection[l], elm);\n\t}\n};\n","/**\n * @module DOM (extra)\n */\n\nimport { $ } from '../selector/index';\nimport { each } from '../util';\nimport { append } from './index';\n\n/**\n * Append each element in the collection to the specified element(s).\n *\n * @param {Node|NodeList|Object} element What to append the element(s) to. Clones elements as necessary.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').appendTo(container);\n */\n\nexport const appendTo = function (element) {\n\tconst context = typeof element === 'string' ? $(element) : element;\n\tappend.call(context, this);\n\treturn this;\n};\n\n/**\n * Empty each element in the collection.\n *\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').empty();\n */\n\nexport const empty = function () {\n\treturn each(this, (element) => element.innerHTML = '');\n};\n\n/**\n * Remove the collection from the DOM.\n *\n * @return {Array} Array containing the removed elements\n * @example\n *     $('.item').remove();\n */\n\nexport const remove = function () {\n\treturn each(this, (element) => {\n\t\tif (element.parentNode) {\n\t\t\telement.parentNode.removeChild(element);\n\t\t}\n\t});\n};\n\n/**\n * Get the `textContent` from the first, or set the `textContent` of each element in the collection.\n *\n * @param {String} [value]\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').text('New content');\n */\n\nexport const text = function (value) {\n\tif (value === undefined) {\n\t\treturn this[0].textContent;\n\t}\n\n\treturn each(this, (element) => element.textContent = String(value));\n};\n\n/**\n * Get the `value` from the first, or set the `value` of each element in the collection.\n *\n * @param {String} [value]\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('input.firstName').val('New value');\n */\n\nexport const val = function (value) {\n\tif (value === undefined) {\n\t\treturn this.length > 0 ? this[0].value : undefined;\n\t}\n\n\treturn each(this, (element) => element.value = value);\n};\n","/**\n * @module HTML\n */\n\nimport { each } from '../util';\n\n/**\n * Get the HTML contents of the first element, or set the HTML contents for each element in the collection.\n *\n * @param {String} [fragment] HTML fragment to set for the element. If this argument is omitted, the HTML contents are returned.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').html();\n *     $('.item').html('<span>more</span>');\n */\n\nexport const html = function (fragment) {\n\tif (fragment === undefined) {\n\t\tconst element = this.nodeType ? this : this[0];\n\t\treturn element ? element.innerHTML : undefined;\n\t}\n\n\treturn each(this, (element) => element.innerHTML = fragment);\n};\n","/**\n * @module closest\n */\n\nimport { each, uniq } from '../util';\nimport { $, matches } from './index';\n\n/**\n * Return the closest element matching the selector (starting by itself) for each element in the collection.\n *\n * @param {String} selector Filter\n * @param {Object} [context] If provided, matching elements must be a descendant of this element\n * @return {Object} New wrapped collection (containing zero or one element)\n * @chainable\n * @example\n *     $('.selector').closest('.container');\n */\n\nexport const closest = (() => {\n\tconst closest = function (selector, context) {\n\t\tconst nodes = [];\n\t\teach(this, (node) => {\n\t\t\twhile (node && node !== context) {\n\t\t\t\tif (matches(node, selector)) {\n\t\t\t\t\tnodes.push(node);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tnode = node.parentElement;\n\t\t\t}\n\t\t});\n\t\treturn $(uniq(nodes));\n\t};\n\n\treturn typeof Element === 'undefined' || !Element.prototype.closest ? closest : function (selector, context) {\n\t\tif (!context) {\n\t\t\tconst nodes = [];\n\t\t\teach(this, (node) => {\n\t\t\t\tconst n = node.closest(selector);\n\t\t\t\tif (n) {\n\t\t\t\t\tnodes.push(n);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn $(uniq(nodes));\n\t\t}\n\t\treturn closest.call(this, selector, context);\n\t};\n})();\n","/**\n * @module Events\n */\n\nimport { closest } from '../selector/closest';\nimport { each } from '../util';\n\n/**\n * Shorthand for `addEventListener`. Supports event delegation if a filter (`selector`) is provided.\n *\n * @param {String} eventNames List of space-separated event types to be added to the element(s)\n * @param {String} [selector] Selector to filter descendants that delegate the event to this element.\n * @param {Function} handler Event handler\n * @param {Boolean} useCapture=false\n * @param {Boolean} once=false\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').on('click', callback);\n *     $('.container').on('click focus', '.item', handler);\n */\n\nexport const on = function (eventNames, selector, handler, useCapture, once) {\n\tif (typeof selector === 'function') {\n\t\thandler = selector;\n\t\tselector = null;\n\t}\n\n\tlet eventListener;\n\tlet namespace;\n\tlet parts;\n\n\teventNames.split(' ').forEach((eventName) => {\n\t\tparts = eventName.split('.');\n\t\teventName = parts[0] || null;\n\t\tnamespace = parts[1] || null;\n\n\t\teventListener = proxyHandler(handler);\n\n\t\teach(this, (element) => {\n\t\t\tif (selector) {\n\t\t\t\teventListener = delegateHandler.bind(element, selector, eventListener);\n\t\t\t}\n\n\t\t\tif (once) {\n\t\t\t\tconst listener = eventListener;\n\t\t\t\teventListener = (event) => {\n\t\t\t\t\toff.call(element, eventNames, selector, handler, useCapture);\n\t\t\t\t\tlistener.call(element, event);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\telement.addEventListener(eventName, eventListener, useCapture || false);\n\n\t\t\tgetHandlers(element).push({\n\t\t\t\teventName,\n\t\t\t\thandler,\n\t\t\t\teventListener,\n\t\t\t\tselector,\n\t\t\t\tnamespace\n\t\t\t});\n\t\t});\n\t}, this);\n\n\treturn this;\n};\n\n/**\n * Shorthand for `removeEventListener`.\n *\n * @param {String} eventNames List of space-separated event types to be removed from the element(s)\n * @param {String} [selector] Selector to filter descendants that undelegate the event to this element.\n * @param {Function} handler Event handler\n * @param {Boolean} useCapture=false\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').off('click', callback);\n *     $('#my-element').off('myEvent myOtherEvent');\n *     $('.item').off();\n */\n\nexport const off = function (eventNames = '', selector, handler, useCapture) {\n\tif (typeof selector === 'function') {\n\t\thandler = selector;\n\t\tselector = null;\n\t}\n\n\tlet handlers;\n\tlet namespace;\n\tlet parts;\n\n\teventNames.split(' ').forEach((eventName) => {\n\t\tparts = eventName.split('.');\n\t\teventName = parts[0] || null;\n\t\tnamespace = parts[1] || null;\n\n\t\treturn each(this, (element) => {\n\t\t\thandlers = getHandlers(element);\n\n\t\t\teach(handlers.filter((item) =>\n\t\t\t\t(!eventName || item.eventName === eventName) &&\n\t\t\t\t(!namespace || item.namespace === namespace) &&\n\t\t\t\t(!handler || item.handler === handler) &&\n\t\t\t\t(!selector || item.selector === selector)\n\t\t\t), (item) => {\n\t\t\t\telement.removeEventListener(item.eventName, item.eventListener, useCapture || false);\n\t\t\t\thandlers.splice(handlers.indexOf(item), 1);\n\t\t\t});\n\n\t\t\tif (!eventName && !namespace && !selector && !handler) {\n\t\t\t\tclearHandlers(element);\n\t\t\t} else if (handlers.length === 0) {\n\t\t\t\tclearHandlers(element);\n\t\t\t}\n\t\t});\n\t}, this);\n\n\treturn this;\n};\n\n/**\n * Get event handlers from an element\n *\n * @private\n * @param {Node} element\n * @return {Array}\n */\n\nconst eventKeyProp = '__domtastic_event__';\nlet id = 1;\nconst handlers = {};\nconst unusedKeys = [];\n\nexport const getHandlers = (element) => {\n\tif (!element[eventKeyProp]) {\n\t\telement[eventKeyProp] = unusedKeys.length === 0 ? ++id : unusedKeys.pop();\n\t}\n\tconst key = element[eventKeyProp];\n\treturn handlers[key] || (handlers[key] = []);\n};\n\n/**\n * Clear event handlers for an element\n *\n * @private\n * @param {Node} element\n */\n\nexport const clearHandlers = (element) => {\n\tconst key = element[eventKeyProp];\n\tif (handlers[key]) {\n\t\thandlers[key] = null;\n\t\telement[eventKeyProp] = null;\n\t\tunusedKeys.push(key);\n\t}\n};\n\n/**\n * Function to create a handler that augments the event object with some extra methods,\n * and executes the callback with the event and the event data (i.e. `event.detail`).\n *\n * @private\n * @param handler Callback to execute as `handler(event, data)`\n * @return {Function}\n */\n\nexport const proxyHandler = (handler) => function (event) {\n\treturn handler.call(this, augmentEvent(event));\n};\n\nconst eventMethods = {\n\tpreventDefault: 'isDefaultPrevented',\n\tstopImmediatePropagation: 'isImmediatePropagationStopped',\n\tstopPropagation: 'isPropagationStopped'\n};\nconst returnTrue = () => true;\nconst returnFalse = () => false;\n\n/**\n * Attempt to augment events and implement something closer to DOM Level 3 Events.\n *\n * @private\n * @param {Object} event\n * @return {Function}\n */\n\nconst augmentEvent = (event) => {\n\tif (!event.isDefaultPrevented || event.stopImmediatePropagation || event.stopPropagation) {\n\t\tfor (const methodName in eventMethods) {\n\t\t\t(function (methodName, testMethodName, originalMethod) {\n\t\t\t\tevent[methodName] = function () {\n\t\t\t\t\tthis[testMethodName] = returnTrue;\n\t\t\t\t\treturn originalMethod && originalMethod.apply(this, arguments);\n\t\t\t\t};\n\t\t\t\tevent[testMethodName] = returnFalse;\n\t\t\t}(methodName, eventMethods[methodName], event[methodName]));\n\t\t}\n\t\tif (event._preventDefault) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\treturn event;\n};\n\n/**\n * Function to test whether delegated events match the provided `selector` (filter),\n * if the event propagation was stopped, and then actually call the provided event handler.\n * Use `this` instead of `event.currentTarget` on the event object.\n *\n * @private\n * @param {String} selector Selector to filter descendants that undelegate the event to this element.\n * @param {Function} handler Event handler\n * @param {Event} event\n */\n\nexport const delegateHandler = function (selector, handler, event) {\n\tconst eventTarget = event._target || event.target;\n\tconst currentTarget = closest.call([eventTarget], selector, this)[0];\n\tif (currentTarget && currentTarget !== this) {\n\t\tif (currentTarget === eventTarget || !(event.isPropagationStopped && event.isPropagationStopped())) {\n\t\t\thandler.call(currentTarget, event);\n\t\t}\n\t}\n};\n","/**\n * @module Ready\n */\n\n/**\n * Execute callback when `DOMContentLoaded` fires for `document`, or immediately if called afterwards.\n *\n * @param handler Callback to execute when initial DOM content is loaded.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $(document).ready(callback);\n */\n\nexport const ready = function (handler) {\n\tif (/complete|loaded|interactive/.test(document.readyState) && document.body) {\n\t\thandler();\n\t} else {\n\t\tdocument.addEventListener('DOMContentLoaded', handler, false);\n\t}\n\treturn this;\n};\n","/**\n * @module trigger\n */\n\nimport { contains } from '../dom/contains';\nimport { each, win } from '../util';\n\nconst reMouseEvent = /^(mouse(down|up|over|out|enter|leave|move)|contextmenu|(dbl)?click)$/;\nconst reKeyEvent = /^key(down|press|up)$/;\n\n/**\n * Trigger event at element(s)\n *\n * @param {String} type Type of the event\n * @param {Object} data Data to be sent with the event (`params.detail` will be set to this).\n * @param {Object} [params] Event parameters (optional)\n * @param {Boolean} params.bubbles=true Does the event bubble up through the DOM or not.\n * @param {Boolean} params.cancelable=true Is the event cancelable or not.\n * @param {Mixed} params.detail=undefined Additional information about the event.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').trigger('anyEventType');\n */\n\nexport const trigger = function (type, data, {\n\tbubbles = true, cancelable = true, preventDefault = false\n} = {}) {\n\tconst EventConstructor = getEventConstructor(type);\n\tconst event = new EventConstructor(type, {\n\t\tbubbles,\n\t\tcancelable,\n\t\tpreventDefault,\n\t\tdetail: data\n\t});\n\n\tevent._preventDefault = preventDefault;\n\n\treturn each(this, (element) => {\n\t\tif (!bubbles || isEventBubblingInDetachedTree || isAttachedToDocument(element)) {\n\t\t\tdispatchEvent(element, event);\n\t\t} else {\n\t\t\ttriggerForPath(element, type, {\n\t\t\t\tbubbles,\n\t\t\t\tcancelable,\n\t\t\t\tpreventDefault,\n\t\t\t\tdetail: data\n\t\t\t});\n\t\t}\n\t});\n};\n\nconst getEventConstructor = (type) => isSupportsOtherEventConstructors ? reMouseEvent.test(type) ? MouseEvent : reKeyEvent.test(type) ? KeyboardEvent : CustomEvent : CustomEvent;\n\n/**\n * Trigger event at first element in the collection. Similar to `trigger()`, except:\n *\n * - Event does not bubble\n * - Default event behavior is prevented\n * - Only triggers handler for first matching element\n *\n * @param {String} type Type of the event\n * @param {Object} data Data to be sent with the event\n * @example\n *     $('form').triggerHandler('submit');\n */\n\nexport const triggerHandler = function (type, data) {\n\tif (this[0]) {\n\t\ttrigger.call(this[0], type, data, { bubbles: false,\n\t\t\tpreventDefault: true });\n\t}\n};\n\n/**\n * Check whether the element is attached to or detached from) the document\n *\n * @private\n * @param {Node} element Element to test\n * @return {Boolean}\n */\n\nconst isAttachedToDocument = (element) => {\n\tif (element === window || element === document) {\n\t\treturn true;\n\t}\n\treturn contains(element.ownerDocument.documentElement, element);\n};\n\n/**\n * Dispatch the event at the element and its ancestors.\n * Required to support delegated events in browsers that don't bubble events in detached DOM trees.\n *\n * @private\n * @param {Node} element First element to dispatch the event at\n * @param {String} type Type of the event\n * @param {Object} [params] Event parameters (optional)\n * @param {Boolean} params.bubbles=true Does the event bubble up through the DOM or not.\n * Will be set to false (but shouldn't matter since events don't bubble anyway).\n * @param {Boolean} params.cancelable=true Is the event cancelable or not.\n * @param {Mixed} params.detail=undefined Additional information about the event.\n */\n\nconst triggerForPath = (element, type, params = {}) => {\n\tparams.bubbles = false;\n\tconst event = new CustomEvent(type, params);\n\tevent._target = element;\n\tdo {\n\t\tdispatchEvent(element, event);\n\t} while (element = element.parentNode); // eslint-disable-line no-cond-assign\n};\n\n/**\n * Dispatch event to element, but call direct event methods instead if available\n * (e.g. \"blur()\", \"submit()\") and if the event is non-cancelable.\n *\n * @private\n * @param {Node} element Element to dispatch the event at\n * @param {Object} event Event to dispatch\n */\n\nconst directEventMethods = ['blur', 'focus', 'select', 'submit'];\n\nconst dispatchEvent = (element, event) => {\n\tif (directEventMethods.indexOf(event.type) !== -1 && typeof element[event.type] === 'function' && !event._preventDefault && !event.cancelable) {\n\t\telement[event.type]();\n\t} else {\n\t\telement.dispatchEvent(event);\n\t}\n};\n\n/**\n * Polyfill for CustomEvent, borrowed from [MDN](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#Polyfill).\n * Needed to support IE (9, 10, 11) & PhantomJS\n */\n\n(() => {\n\tconst CustomEvent = function (event, params = {\n\t\tbubbles: false,\n\t\tcancelable: false,\n\t\tdetail: undefined\n\t}) {\n\t\tconst customEvent = document.createEvent('CustomEvent');\n\t\tcustomEvent.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n\t\treturn customEvent;\n\t};\n\n\tCustomEvent.prototype = win.CustomEvent && win.CustomEvent.prototype;\n\twin.CustomEvent = CustomEvent;\n})();\n\n/*\n * Are events bubbling in detached DOM trees?\n * @private\n */\n\nconst isEventBubblingInDetachedTree = (() => {\n\tlet isBubbling = false;\n\tconst doc = win.document;\n\tif (doc) {\n\t\tconst parent = doc.createElement('div');\n\t\tconst child = parent.cloneNode();\n\t\tparent.appendChild(child);\n\t\tparent.addEventListener('e', () => {\n\t\t\tisBubbling = true;\n\t\t});\n\t\tchild.dispatchEvent(new CustomEvent('e', { bubbles: true }));\n\t}\n\treturn isBubbling;\n})();\n\nconst isSupportsOtherEventConstructors = (() => {\n\ttry {\n\t\tnew MouseEvent('click');\n\t} catch (e) {\n\t\treturn false;\n\t}\n\treturn true;\n})();\n","/**\n * @module Selector (extra)\n */\n\nimport { each } from '../util';\nimport { $, matches } from './index';\n\n/**\n * Return children of each element in the collection, optionally filtered by a selector.\n *\n * @param {String} [selector] Filter\n * @return {Object} New wrapped collection\n * @chainable\n * @example\n *     $('.selector').children();\n *     $('.selector').children('.filter');\n */\n\nexport const children = function (selector) {\n\tconst nodes = [];\n\teach(this, (element) => {\n\t\tif (element.children) {\n\t\t\teach(element.children, (child) => {\n\t\t\t\tif (!selector || selector && matches(child, selector)) {\n\t\t\t\t\tnodes.push(child);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\treturn $(nodes);\n};\n\n/**\n * Return a collection containing only the one at the specified index.\n *\n * @param {Number} index\n * @return {Object} New wrapped collection\n * @chainable\n * @example\n *     $('.items').eq(1)\n *     // The second item; result is the same as doing $($('.items')[1]);\n */\n\nexport const eq = function (index) {\n\treturn slice.call(this, index, index + 1);\n};\n\n/**\n * Return a collection containing only the first item.\n *\n * @return {Object} New wrapped collection\n * @chainable\n * @example\n *     $('.items').first()\n *     // The first item; result is the same as doing $($('.items')[0]);\n */\n\nexport const first = function () {\n\treturn slice.call(this, 0, 1);\n};\n\n/**\n * Return the DOM element at the specified index.\n *\n * @param {Number} index\n * @return {Node} Element at the specified index\n * @example\n *     $('.items').get(1)\n *     // The second element; result is the same as doing $('.items')[1];\n */\n\nexport const get = function (index) {\n\treturn this[index];\n};\n\n/**\n * Return the parent elements of each element in the collection, optionally filtered by a selector.\n *\n * @param {String} [selector] Filter\n * @return {Object} New wrapped collection\n * @chainable\n * @example\n *     $('.selector').parent();\n *     $('.selector').parent('.filter');\n */\n\nexport const parent = function (selector) {\n\tconst nodes = [];\n\teach(this, (element) => {\n\t\tif (!selector || selector && matches(element.parentNode, selector)) {\n\t\t\tnodes.push(element.parentNode);\n\t\t}\n\t});\n\treturn $(nodes);\n};\n\n/**\n * Create a new, sliced collection.\n *\n * @param {Number} start\n * @param {Number} end\n * @return {Object} New wrapped collection\n * @example\n *     $('.items').slice(1, 3)\n *     // New wrapped collection containing the second, third, and fourth element.\n */\n\nexport const slice = function (start, end) { // eslint-disable-line no-unused-vars\n\treturn $([].slice.apply(this, arguments));\n};\n","/**\n * @module Type\n */\n\n/**\n * Determine if the argument passed is a Javascript function object.\n *\n * @param {Object} [obj] Object to test whether or not it is a function.\n * @return {boolean}\n * @example\n *     $.isFunction(function(){}); // true\n * @example\n *     $.isFunction({}); // false\n */\n\nexport const isFunction = (obj) => typeof obj === 'function';\n\n/**\n * Determine whether the argument is an array.\n *\n * @param {Object} [obj] Object to test whether or not it is an array.\n * @return {boolean}\n * @example\n *     $.isArray([]); // true\n * @example\n *     $.isArray({}); // false\n */\n\nexport const isArray = Array.isArray;\n","/**\n * @module API\n */\n\n// Import modules to build up the API\nimport * as array from './array';\nimport BaseClass from './baseClass';\nimport * as css from './css';\nimport * as dom_attr from './dom/attr';\nimport * as dom_class from './dom/class';\nimport * as dom_contains from './dom/contains';\nimport * as dom_data from './dom/data';\nimport * as dom_extra from './dom/extra';\nimport * as dom_html from './dom/html';\nimport * as dom from './dom/index';\nimport * as event from './event/index';\nimport * as event_ready from './event/ready';\nimport * as event_trigger from './event/trigger';\nimport * as selector_closest from './selector/closest';\nimport * as selector_extra from './selector/extra';\nimport * as selector from './selector/index';\nimport * as type from './type';\nimport * as util from './util';\n\nconst api = {};\nlet $ = {};\n\nif(typeof selector !== 'undefined') {\n\t$ = selector.$;\n\t$.matches = selector.matches;\n\tapi.find = selector.find;\n}\n\nextend($, dom_contains, type);\nextend(api, array, css, dom_attr, dom, dom_class, dom_data, dom_extra, dom_html, event, event_trigger, event_ready, selector_closest, selector_extra, util);\n\n$.fn = api;\n\n// Version\n$.version = '__VERSION__';\n\n// Util\n$.extend = util.extend;\n\n// Provide base class to extend from\nif(typeof BaseClass !== 'undefined') {\n\t$.BaseClass = BaseClass($.fn);\n}\n\n// Export interface\nexport default $;\n"],"names":["win","window","toArray","collection","length","result","Array","i","each","callback","thisArg","undefined","nodeType","call","extend","target","sources","forEach","src","prop","uniq","filter","item","index","indexOf","isTouch","Boolean","isMobileByMQ","width","matchMedia","matches","isPrototypeSet","reFragment","reSingleTag","reSimpleSelector","domtastic","selector","context","document","querySelectorAll","DOMtastic","test","createFragment","querySelector","wrap","$","find","nodes","node","child","push","Element","prototype","_matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","element","isSimpleSelector","getElementById","slice","getElementsByClassName","getElementsByTagName","html","createElement","RegExp","$1","elements","container","children","childNodes","innerHTML","l","fn","constructor","ArrayProto","every","_each","map","pop","reduce","reduceRight","reverse","shift","some","unshift","api","BaseClass","arguments","isNumeric","value","isNaN","parseFloat","isFinite","camelize","replace","letter","toUpperCase","dasherize","toLowerCase","css","key","styleProps","val","style","getComputedStyle","removeProperty","attr","getAttribute","setAttribute","removeAttr","removeAttribute","addClass","split","bind","removeClass","toggleClass","state","hasClass","classList","contains","fnName","className","compareDocumentPosition","Node","DOCUMENT_POSITION_DISCONNECTED","isSupportsDataSet","documentElement","DATAKEYPROP","str","match","char","data","append","insertAdjacentHTML","appendChild","NodeList","prepend","insertBefore","firstChild","before","parentNode","after","nextSibling","clone","_clone","cloneNode","el","elm","appendTo","empty","remove","removeChild","text","textContent","String","fragment","closest","parentElement","n","on","eventNames","handler","useCapture","once","eventListener","namespace","parts","eventName","proxyHandler","delegateHandler","listener","event","off","addEventListener","getHandlers","handlers","removeEventListener","splice","clearHandlers","eventKeyProp","id","unusedKeys","augmentEvent","eventMethods","preventDefault","stopImmediatePropagation","stopPropagation","returnTrue","returnFalse","isDefaultPrevented","methodName","testMethodName","originalMethod","apply","_preventDefault","eventTarget","_target","currentTarget","isPropagationStopped","ready","readyState","body","reMouseEvent","reKeyEvent","trigger","type","bubbles","cancelable","EventConstructor","getEventConstructor","detail","isEventBubblingInDetachedTree","isAttachedToDocument","dispatchEvent","triggerForPath","isSupportsOtherEventConstructors","MouseEvent","KeyboardEvent","CustomEvent","triggerHandler","ownerDocument","params","directEventMethods","customEvent","createEvent","initCustomEvent","isBubbling","doc","parent","e","eq","first","get","start","end","isFunction","obj","isArray","dom_contains","array","dom_attr","dom","dom_class","dom_data","dom_extra","dom_html","event_trigger","event_ready","selector_closest","selector_extra","util","version"],"mappings":"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"}