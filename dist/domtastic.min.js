!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).$=t()}(this,function(){"use strict";var e,t,n="undefined"!=typeof window?window:{},i=function(e){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=e[i];return n},r=function(e,t,n){var i=e.length;if(void 0!==i&&void 0===e.nodeType)for(var r=0;r<i;r++)t.call(n,e[r],r,e);else t.call(n,e,0,e);return e},o=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.forEach(function(t){for(var n in t)e[n]=t[n]}),e},s=function(e){return e.filter(function(t,n){return e.indexOf(t)===n})},u=Object.freeze({win:n,toArray:i,each:r,extend:o,uniq:s,isTouch:function(){return Boolean("ontouchstart"in window)},isMobileByMQ:function(e){return"matchMedia"in window&&window.matchMedia("(max-width:"+e+"px)").matches}}),c=!1,f=/^\s*<(\w+|!)[^>]*>/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,l=/^[.#]?[\w-]*$/,d=function(e,t){var n;if(void 0===t&&(t=document),e){if(e instanceof DOMtastic)return e;"string"!=typeof e?n=e.nodeType||e===window?[e]:e:f.test(e)?n=m(e):(t="string"==typeof t?document.querySelector(t):t.length?t[0]:t,n=v(e,t))}else n=document.querySelectorAll(null);return y(n)},h=function(e){var t=[];return r(this,function(n){return r(v(e,n),function(e){-1===t.indexOf(e)&&t.push(e)})}),d(t)},p=(e="undefined"!=typeof Element?Element.prototype:n,t=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,function(e,n){return t.call(e,n)}),v=function(e,t){if(l.test(e)){if("#"===e[0]){var n=(t.getElementById?t:document).getElementById(e.slice(1));return n?[n]:[]}return"."===e[0]?t.getElementsByClassName(e.slice(1)):t.getElementsByTagName(e)}return t.querySelectorAll(e)},m=function(e){if(a.test(e))return[document.createElement(RegExp.$1)];var t=[],n=document.createElement("div"),i=n.childNodes;n.innerHTML=e;for(var r=0,o=i.length;r<o;r++)t.push(i[r]);return t},y=function(e){return c||(DOMtastic.prototype=d.fn,DOMtastic.prototype.constructor=DOMtastic,c=!0),new DOMtastic(e)},DOMtastic=function(e){for(var t=0,n=e.length;t<n;)this[t]=e[t++];this.length=n},b=Object.freeze({$:d,find:h,matches:p,DOMtastic:DOMtastic}),g=Array.prototype,E=g.every,N=function(e,t){return r(this,e,t)},w=N,C=g.indexOf,O=g.map,T=g.pop,j=g.push,A=g.reduce,L=g.reduceRight,M=g.shift,x=g.some,D=g.unshift,z=Object.freeze({every:E,filter:function(e,t){var n="function"==typeof e?e:function(t){return p(t,e)};return d(g.filter.call(this,n,t))},forEach:N,each:w,indexOf:C,map:O,pop:T,push:j,reduce:A,reduceRight:L,reverse:function(){return d(i(this).reverse())},shift:M,some:x,unshift:D});function S(e){var t=function(){DOMtastic.call(this,d.apply(void 0,arguments))};return o(t.prototype,e),t}var _=function(e){return e.replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})},P=Object.freeze({css:function(e,t){var n,i,o;if("string"==typeof e){if(e=_(e),void 0===t){var s=this.nodeType?this:this[0];return s?(""===(o=s.style[e])&&(o=getComputedStyle(s)[e]),function(e){return!isNaN(parseFloat(e))&&isFinite(e)}(o)?parseFloat(o):o):void 0}(i={})[e]=t}else for(n in i=e)o=i[n],delete i[n],i[_(n)]=o;return r(this,function(e){for(n in i)i[n]||0===i[n]?e.style[n]=i[n]:e.style.removeProperty(n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase())}),this}}),H=Object.freeze({attr:function(e,t){if("string"==typeof e&&void 0===t){var n=this.nodeType?this:this[0];return n?n.getAttribute(e):void 0}return r(this,function(n){if("object"==typeof e)for(var i in e)n.setAttribute(i,e[i]);else n.setAttribute(e,t)})},removeAttr:function(e){return r(this,function(t){return t.removeAttribute(e)})}}),B=function(e,t){return r(this,function(n){return n.classList[e](t)})},I=Object.freeze({addClass:function(e){return e&&e.length&&r(e.split(" "),B.bind(this,"add")),this},removeClass:function(e){return e&&e.length&&r(e.split(" "),B.bind(this,"remove")),this},toggleClass:function(e,t){return e&&e.length&&r(e.split(" "),B.bind(this,"toggle")),this},hasClass:function(e){return(this.nodeType?[this]:this).some(function(t){return t.classList.contains(e)})}}),$=function(e,t){return!(!e||!t||e===t)&&(e.contains?e.contains(t):!!e.compareDocumentPosition&&!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_DISCONNECTED))},k=Object.freeze({contains:$}),q="undefined"!=typeof document&&"dataset"in document.documentElement,F=q?"dataset":"__DOMTASTIC_DATA__",R=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},U=Object.freeze({data:function(e,t){if("string"==typeof e&&void 0===t){var n=this.nodeType?this:this[0];return n&&F in n?n[F][R(e)]:void 0}return r(this,function(n){q||(n[F]=n[F]||{}),n[F][R(e)]=t})},prop:function(e,t){if("string"==typeof e&&void 0===t){var n=this.nodeType?this:this[0];return n&&n?n[e]:void 0}return r(this,function(n){return n[e]=t})}}),K=Array.prototype.forEach,Q=function e(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("beforeend",t);else if(t instanceof Node)this.appendChild(t);else{var n=t instanceof NodeList?i(t):t;K.call(n,this.appendChild.bind(this))}else G(this,e,t);return this},Z=function(e){return"string"==typeof e?e:e instanceof Node?e.cloneNode(!0):"length"in e?[].map.call(e,function(e){return e.cloneNode(!0)}):e},G=function(e,t,n){for(var i=e.length;i--;){var r=0===i?n:Z(n);t.call(e[i],r)}},J=Object.freeze({append:Q,prepend:function e(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("afterbegin",t);else if(t instanceof Node)this.insertBefore(t,this.firstChild);else{var n=t instanceof NodeList?i(t):t;K.call(n.reverse(),e.bind(this))}else G(this,e,t);return this},before:function e(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("beforebegin",t);else if(t instanceof Node)this.parentNode.insertBefore(t,this);else{var n=t instanceof NodeList?i(t):t;K.call(n,e.bind(this))}else G(this,e,t);return this},after:function e(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("afterend",t);else if(t instanceof Node)this.parentNode.insertBefore(t,this.nextSibling);else{var n=t instanceof NodeList?i(t):t;K.call(n.reverse(),e.bind(this))}else G(this,e,t);return this},clone:function(){return d(Z(this))},_clone:Z,_each:G}),V=Object.freeze({appendTo:function(e){var t="string"==typeof e?d(e):e;return Q.call(t,this),this},empty:function(){return r(this,function(e){return e.innerHTML=""})},remove:function(){return r(this,function(e){e.parentNode&&e.parentNode.removeChild(e)})},text:function(e){return void 0===e?this[0].textContent:r(this,function(t){return t.textContent=String(e)})},val:function(e){return void 0===e?this.length>0?this[0].value:void 0:r(this,function(t){return t.value=e})}}),W=Object.freeze({html:function(e){if(void 0===e){var t=this.nodeType?this:this[0];return t?t.innerHTML:void 0}return r(this,function(t){return t.innerHTML=e})}}),X=function(){var e=function(e,t){var n=[];return r(this,function(i){for(;i&&i!==t;){if(p(i,e)){n.push(i);break}i=i.parentElement}}),d(s(n))};return"undefined"!=typeof Element&&Element.prototype.closest?function(t,n){if(!n){var i=[];return r(this,function(e){var n=e.closest(t);n&&i.push(n)}),d(s(i))}return e.call(this,t,n)}:e}(),Y=Object.freeze({closest:X}),ee=function(e,t,n,i){var o,s,u,c=this;return void 0===e&&(e=""),"function"==typeof t&&(n=t,t=null),e.split(" ").forEach(function(e){return u=e.split("."),e=u[0]||null,s=u[1]||null,r(c,function(u){o=oe(u),r(o.filter(function(i){return!(e&&i.eventName!==e||s&&i.namespace!==s||n&&i.handler!==n||t&&i.selector!==t)}),function(e){u.removeEventListener(e.eventName,e.eventListener,i||!1),o.splice(o.indexOf(e),1)}),e||s||t||n?0===o.length&&se(u):se(u)})},this),this},te="__domtastic_event__",ne=1,ie={},re=[],oe=function(e){e[te]||(e[te]=0===re.length?++ne:re.pop());var t=e[te];return ie[t]||(ie[t]=[])},se=function(e){var t=e[te];ie[t]&&(ie[t]=null,e[te]=null,re.push(t))},ue=function(e){return function(t){return e.call(this,le(t))}},ce={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},fe=function(){return!0},ae=function(){return!1},le=function(e){if(!e.isDefaultPrevented||e.stopImmediatePropagation||e.stopPropagation){for(var t in ce)!function(t,n,i){e[t]=function(){return this[n]=fe,i&&i.apply(this,arguments)},e[n]=ae}(t,ce[t],e[t]);e._preventDefault&&e.preventDefault()}return e},de=function(e,t,n){var i=n._target||n.target,r=X.call([i],e,this)[0];r&&r!==this&&(r!==i&&n.isPropagationStopped&&n.isPropagationStopped()||t.call(r,n))},he=Object.freeze({on:function(e,t,n,i,o){var s,u,c,f=this;return"function"==typeof t&&(n=t,t=null),e.split(" ").forEach(function(a){c=a.split("."),a=c[0]||null,u=c[1]||null,s=ue(n),r(f,function(r){if(t&&(s=de.bind(r,t,s)),o){var c=s;s=function(o){ee.call(r,e,t,n,i),c.call(r,o)}}r.addEventListener(a,s,i||!1),oe(r).push({eventName:a,handler:n,eventListener:s,selector:t,namespace:u})})},this),this},off:ee,getHandlers:oe,clearHandlers:se,proxyHandler:ue,delegateHandler:de}),pe=Object.freeze({ready:function(e){return/complete|loaded|interactive/.test(document.readyState)&&document.body?e():document.addEventListener("DOMContentLoaded",e,!1),this}}),ve=/^(mouse(down|up|over|out|enter|leave|move)|contextmenu|(dbl)?click)$/,me=/^key(down|press|up)$/,ye=function(e,t,n){var i=void 0===n?{}:n,o=i.bubbles,s=void 0===o||o,u=i.cancelable,c=void 0===u||u,f=i.preventDefault,a=void 0!==f&&f,l=new(be(e))(e,{bubbles:s,cancelable:c,preventDefault:a,detail:t});return l._preventDefault=a,r(this,function(n){!s||Ce||ge(n)?we(n,l):Ee(n,e,{bubbles:s,cancelable:c,preventDefault:a,detail:t})})},be=function(e){return Oe?ve.test(e)?MouseEvent:me.test(e)?KeyboardEvent:CustomEvent:CustomEvent},ge=function(e){return e===window||e===document||$(e.ownerDocument.documentElement,e)},Ee=function(e,t,n){void 0===n&&(n={}),n.bubbles=!1;var i=new CustomEvent(t,n);i._target=e;do{we(e,i)}while(e=e.parentNode)},Ne=["blur","focus","select","submit"],we=function(e,t){-1===Ne.indexOf(t.type)||"function"!=typeof e[t.type]||t._preventDefault||t.cancelable?e.dispatchEvent(t):e[t.type]()};!function(){var e=function(e,t){void 0===t&&(t={bubbles:!1,cancelable:!1,detail:void 0});var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};e.prototype=n.CustomEvent&&n.CustomEvent.prototype,n.CustomEvent=e}();var Ce=function(){var e=!1,t=n.document;if(t){var i=t.createElement("div"),r=i.cloneNode();i.appendChild(r),i.addEventListener("e",function(){e=!0}),r.dispatchEvent(new CustomEvent("e",{bubbles:!0}))}return e}(),Oe=function(){try{new MouseEvent("click")}catch(e){return!1}return!0}(),Te=Object.freeze({trigger:ye,triggerHandler:function(e,t){this[0]&&ye.call(this[0],e,t,{bubbles:!1,preventDefault:!0})}}),je=function(e,t){return d([].slice.apply(this,arguments))},Ae=Object.freeze({children:function(e){var t=[];return r(this,function(n){n.children&&r(n.children,function(n){(!e||e&&p(n,e))&&t.push(n)})}),d(t)},eq:function(e){return je.call(this,e,e+1)},first:function(){return je.call(this,0,1)},get:function(e){return this[e]},parent:function(e){var t=[];return r(this,function(n){(!e||e&&p(n.parentNode,e))&&t.push(n.parentNode)}),d(t)},slice:je}),Le=Array.isArray,Me=Object.freeze({isFunction:function(e){return"function"==typeof e},isArray:Le}),xe={},De={};return void 0!==b&&((De=d).matches=p,xe.find=h),extend(De,k,Me),extend(xe,z,P,H,J,I,U,V,W,he,Te,pe,Y,Ae,u),De.fn=xe,De.version="0.16.3",De.extend=o,De.BaseClass=S(De.fn),De});
//# sourceMappingURL=domtastic.min.js.map
